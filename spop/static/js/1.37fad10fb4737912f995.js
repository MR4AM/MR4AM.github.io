webpackJsonp([1],{GkIG:function(e,t,n){var r={"./AllocationList":["VSY0",18],"./AllocationList.vue":["VSY0",18],"./AllocationListDetail":["YAjT",12],"./AllocationListDetail.vue":["YAjT",12],"./AllocationReview":["tJr6",14],"./AllocationReview.vue":["tJr6",14],"./CarBackAlarmList":["HQb5",28],"./CarBackAlarmList.vue":["HQb5",28],"./CarInOutRecordList":["oZyw",24],"./CarInOutRecordList.vue":["oZyw",24],"./CrenelRecordList":["dYGV",23],"./CrenelRecordList.vue":["dYGV",23],"./ExamEditor":["J6TL",13],"./ExamEditor.vue":["J6TL",13],"./ExamList":["jDiq",25],"./ExamList.vue":["jDiq",25],"./ExamQuestionList":["nRbx",22],"./ExamQuestionList.vue":["nRbx",22],"./ExamRecordList":["c3Ro",26],"./ExamRecordList.vue":["c3Ro",26],"./FilePreview":["oMlS",31],"./FilePreview.vue":["oMlS",31],"./FileRelease":["uoFw",29],"./FileRelease.vue":["uoFw",29],"./HomePage":["0WVq",32],"./HomePage.vue":["0WVq",32],"./InOrderList":["8oVV",17],"./InOrderList.vue":["8oVV",17],"./InOrderListDetail":["5MCs",15],"./InOrderListDetail.vue":["5MCs",15],"./Manage":["rfy1"],"./Manage.vue":["rfy1"],"./NotFound":["csQh",0],"./NotFound.vue":["csQh",0],"./OutOrderList":["k+g8",16],"./OutOrderList.vue":["k+g8",16],"./OutOrderListDetail":["qdT0",11],"./OutOrderListDetail.vue":["qdT0",11],"./SafetyDoc":["9Jsb",30],"./SafetyDoc.vue":["9Jsb",30],"./ViolationCheckList":["29Mq",27],"./ViolationCheckList.vue":["29Mq",27],"./ViolationRecordList":["rszc",19],"./ViolationRecordList.vue":["rszc",19],"./VisitorAppointmentCheckList":["A291",20],"./VisitorAppointmentCheckList.vue":["A291",20],"./VisitorAppointmentRecordList":["VVVa",21],"./VisitorAppointmentRecordList.vue":["VVVa",21]};function a(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(r)},a.id="GkIG",e.exports=a},IPo5:function(e,t,n){"use strict";var r=new(n("7+uW").default);t.a=r},KvKp:function(e,t,n){"use strict";var r=n("LcI6"),a=n.n(r),o=n("//Fk"),i=n.n(o),c=n("mtWM"),s=n.n(c),u=n("7+uW"),l=n("vgQg"),d=s.a.create({timeout:5e3});l.a.axiosLoginConfig;window.isRefreshing=!1;d.interceptors.request.use(function(e){window.localStorage.getItem("access_token"),window.localStorage.getItem("refresh_token");return e},function(e){return i.a.reject(e)});var f=d,b=n("mw3O"),m=n.n(b),p=n("lbHh"),g=n.n(p),h={setPageTitle:function(e){e&&(window.document.title=e)},Logline:{setLog:function(e,t,n,r){a.a.using(a.a.PROTOCOL.INDEXEDDB),e||(e="api-request");var o=new a.a(e);switch(t){case"info":o.info(n);break;case"error":o.error(n,r);break;case"warning":o.warning(n);break;default:o.error(n,r)}},getLog:function(e,t,n){e&&t?a.a.get(e,t,function(e){n?n(e):console.log(e)}):e&&!t?a.a.get(e,function(e){n?n(e):console.log(e)}):a.a.all(function(e){n?n(e):console.log(e)})},cleanLog:function(){a.a.clean()}},sendReq:function(e){var t=void 0,n=void 0;switch(e.req.ctxType){case"json":t=l.a.axiosJsonConfig,n=e.req.data;break;case"formdata":t=l.a.axiosFormDataConfig,n=m.a.stringify(e.req.data);break;default:t=l.a.axiosJsonConfig,n=e.req.data}"post"===e.req.method?f.post(e.queryUrl,n,t).then(function(t){0===t.data.code?e.req.success?e.req.success(t):console.log(t):(h.Logline.setLog("","error","api fail",{errMsg:t.data.message,params:e}),e.req.fail?e.req.fail(t):console.log(t))}).catch(function(t){h.Logline.setLog("","error","request fail",{errMsg:t.toString(),params:e}),e.req.error?e.req.error(t):u.default.prototype.$message.error("请求接口失败，请检查网络")}):f.get(e.queryUrl,n).then(function(t){0===t.data.code?e.req.success?e.req.success(t):console.log(t):(h.Logline.setLog("","error","api fail",{errMsg:t.data.message,params:e}),e.req.fail?e.req.fail(t):console.log(t))}).catch(function(t){h.Logline.setLog("","error","request fail",{errMsg:t.toString(),params:e}),e.req.error?e.req.error(t):u.default.prototype.$message.error("请求接口失败，请检查网络")})},getDeviceInfo:function(e){var t=navigator.userAgent;if("browser"===e){var n=t.indexOf("Opera")>-1,r=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1&&!n,a=t.indexOf("Firefox")>-1,o=t.indexOf("Safari")>-1,i=t.indexOf("Chrome")>-1,c=t.indexOf("Edge")>-1;if(!r)return a?"Firefox":n?"Opera":i?"Chrome":c?"Edge":o?"Safari":"Unknown";var s,u,l,d,f,b,m;new RegExp("MSIE (\\d+\\.\\d+);").test(t);var p=parseFloat(RegExp.$1);if(s="5.5"===p,u="6.0"===p,l="7.0"===p,d="8.0"===p,f="9.0"===p,b="10.0"===p,m="11.0"===p,"5"===p)return"IE5";if(s)return"IE55";if(u)return"IE6";if(l)return"IE7";if(d)return"IE8";if(f)return"IE9";if(b)return"IE10";if(m)return"IE11"}else{if("device"===e){var g=t.indexOf("Android")>-1,h=t.indexOf("iPhone")>-1,x=t.indexOf("iPad")>-1;return g?"Android":h?"Iphone":x?"Ipad":"Unknown"}if("platform"===e)return navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)?"MOBILE":"PC"}},setToken:function(e){g.a.set("spoptoken",e,{expires:new Date((new Date).getTime()+216e5)||1})},getToken:function(){var e=g.a.get("spoptoken");return e||!1}};t.a=h},rfy1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mvHQ"),a=n.n(r),o=n("Dd8w"),i=n.n(o),c=n("NYxO"),s=n("KvKp"),u=n("IPo5"),l=function(){return n.e(33).then(n.bind(null,"BS9I"))},d={name:"Manage",data:function(){return{curTabList:[{component:"HomePage",title:"首页",navIndex:-1}],curTabIndex:0,curTabCp:"HomePage",curParams:{},addLong:"",isLong:!1,ctxMenuXY:[0,0],curMenuIndex:0,curMenuShow:!1}},components:{ComHeader:function(){return n.e(35).then(n.bind(null,"spjA"))},ComAside:function(){return n.e(34).then(n.bind(null,"1ZPu"))}},created:function(){this.bindResize(),this.init(),u.a.$on("delCurrentTab",this.toDeleteTab)},mounted:function(){var e=this;document.addEventListener("click",function(t){if(e.$refs.ctxMenu&&e.$refs.ctxMenu.contains(t.target))return!0;e.curMenuShow=!1})},computed:i()({thisComponent:function(){var e=this;return e.curTabCp?function(){return n("GkIG")("./"+e.curTabCp)}:l}},Object(c.b)(["cachePage","loadingShow","userInfo","defaultIndex"])),updated:function(){this.resizeBar()},methods:{init:function(){var e=window.localStorage.getItem("cacheTabList");e&&(e=JSON.parse(e),this.curTabList=e.cacheTabList,this.curTabIndex=e.cacheTabIndex,this.curTabCp=e.cacheCurTabCp,this.curParams=e.cacheCurParams,this.$store.commit("setDefaultIndex",e.defaultIndex),this.$store.commit("setCachePage",this.curTabCp))},changeCp:function(e){var t=this,n=t.cpIsExist(e);-1===n?(t.$store.commit("setLoading",!0),t.curTabList.push(e),t.curTabIndex=t.curTabList.length-1):t.curTabIndex=n,e.props?(window.localStorage.setItem("cacheTabList",a()({cacheTabList:t.curTabList,cacheTabIndex:t.curTabIndex,cacheCurTabCp:e.component,cacheCurParams:e.props,defaultIndex:t.defaultIndex})),t.curParams=e.props,t.curTabList[t.curTabIndex].props=e.props,t.$store.commit("setDefaultIndex",e.navIndex.toString()+"@longgap@"+a()(e.props))):(window.localStorage.setItem("cacheTabList",a()({cacheTabList:t.curTabList,cacheTabIndex:t.curTabIndex,cacheCurTabCp:e.component,cacheCurParams:t.curParams,defaultIndex:t.defaultIndex})),t.curParams=t.curTabList[t.curTabIndex].props,t.$store.commit("setDefaultIndex",e.navIndex.toString())),t.curTabCp=t.curTabList[t.curTabIndex].component,t.$nextTick(function(){t.resizeBar(),t.$store.commit("setCachePage",t.curTabCp),n=t.cpIsExist(e);for(var r=document.querySelectorAll(".browser-tag-bar ul li"),a=document.querySelector(".browser-tag-bar"),o=0,i=0;i<r.length;i++)i<n&&(o+=r[i].offsetWidth);t.$nextTick(function(){a.scrollLeft=o})})},cpIsExist:function(e){for(var t=0;t<this.curTabList.length;t++){if(this.curTabList[t].component===e.component)return t}return-1},resizeBar:function(){var e=document.querySelector(".bar-wrp").clientWidth,t=20;document.querySelectorAll(".browser-tag-bar ul li").forEach(function(e,n){t+=e.clientWidth+2}),this.isLong=t>e,this.addLong=t+"px"},bindResize:function(){var e=this;window.onresize=function(){e.resizeBar(),u.a.$emit("windowResize")}},deleteTab:function(e,t){var n=this;if(n.curTabList.length>1&&0!==t||0===t&&"close"!==e){var r=void 0,o=[];switch(e){case"close":n.curTabList.forEach(function(e,n){t!==n?o.push(e):r=e.component});break;case"other":n.curTabList.forEach(function(e,n){t===n||0===n?o.push(e):r=e.component});break;case"right":n.curTabList.forEach(function(e,n){n<=t||0===n?o.push(e):r=e.component});break;case"all":n.curTabList.forEach(function(e,t){0===t?o.push(e):r=e.component})}switch(n.curTabList=o,e){case"close":n.curTabIndex===t?(n.curTabIndex=t-1,n.curTabCp=n.curTabList[n.curTabIndex].component,n.$store.commit("setDefaultIndex",n.curTabList[n.curTabIndex].navIndex.toString())):n.curTabIndex>t&&(n.curTabIndex=n.curTabIndex-1);break;case"other":n.curTabIndex=0===t?0:1,n.curTabCp=n.curTabList[n.curTabIndex].component,n.$store.commit("setDefaultIndex",n.curTabList[n.curTabIndex].navIndex.toString());break;case"right":n.curTabIndex>t&&(n.curTabIndex=n.curTabList.length-1,n.curTabCp=n.curTabList[n.curTabIndex].component,n.$store.commit("setDefaultIndex",n.curTabList[n.curTabIndex].navIndex.toString()));break;case"all":n.curTabIndex=0,n.curTabCp=n.curTabList[n.curTabIndex].component,n.$store.commit("setDefaultIndex",n.curTabList[n.curTabIndex].navIndex.toString())}n.$store.commit("moveCachePage",r),n.curMenuShow=!1,window.localStorage.setItem("cacheTabList",a()({cacheTabList:n.curTabList,cacheTabIndex:n.curTabIndex,cacheCurTabCp:n.curTabCp,defaultIndex:n.defaultIndex})),n.$nextTick(function(){n.resizeBar()})}else n.$alert("首页无法关闭","提示",{confirmButtonText:"确定"}),n.curMenuShow=!1},scrollTabBar:function(e){e.stopPropagation(),e.preventDefault();var t=void 0;switch(s.a.getDeviceInfo("browser")){case"Chrome":t=e.deltaY>0;break;case"Firefox":t=e.detail>0;break;default:t=e.deltaY>0}var n=void 0,r=void 0;"bar-wrp"===e.currentTarget.getAttribute("class")?n=(r=e.currentTarget.getElementsByClassName("browser-tag-bar")[0]).scrollLeft:(r=e.currentTarget,n=e.currentTarget.scrollLeft),t?r.scrollLeft=n+10:n>0&&(r.scrollLeft=n-10)},showContextMenu:function(e){var t=void 0;t="bar-wrp"===e.currentTarget.getAttribute("class")?e.currentTarget.getElementsByClassName("browser-tag-bar")[0]:e.currentTarget;var n=parseInt(t.getAttribute("data-index")),r=0;document.querySelectorAll(".browser-tag-bar ul li").forEach(function(e,t){t<n&&(r+=e.clientWidth+2)}),this.ctxMenuXY=[r+e.offsetX,e.offsetY],this.curMenuIndex=n,this.curMenuShow=!0},toDeleteTab:function(e){var t={};t.component=e;var n=this.cpIsExist(t);n>-1&&this.deleteTab("close",n)}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"manage-ctx"},[n("el-container",{staticClass:"manage-wrp is-vertical"},[n("com-header",{attrs:{"user-info":e.userInfo}}),e._v(" "),n("el-container",{staticClass:"mainContent"},[n("com-aside",{attrs:{"user-info":e.userInfo},on:{changeCp:e.changeCp}}),e._v(" "),n("el-main",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingShow,expression:"loadingShow"}]},[n("div",{staticClass:"bar-wrp",on:{resize:e.resizeBar}},[n("div",{class:["browser-tag-bar","clear",e.isLong?"mgr":""],on:{mousewheel:e.scrollTabBar,DOMMouseScroll:e.scrollTabBar}},[n("span",{staticClass:"tabDiv"}),e._v(" "),n("ul",{style:"width: "+e.addLong},e._l(e.curTabList,function(t,r){return n("li",{key:r,class:[r===e.curTabIndex?"cur":""],attrs:{"data-index":r},on:{click:function(n){return e.changeCp(t)},contextmenu:function(t){return t.preventDefault(),e.showContextMenu(t)}}},[n("span",[e._v(e._s(t.title))]),e._v(" "),n("span",{staticClass:"el-icon-close",on:{click:function(t){return t.stopPropagation(),e.deleteTab("close",r)}}})])}),0)]),e._v(" "),e.isLong?n("el-dropdown",[n("div",{staticClass:"more-page"},[n("span",{staticClass:"el-icon-arrow-down"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.curTabList,function(t,r){return[n("el-dropdown-item",{key:r,nativeOn:{click:function(n){return e.changeCp(t)}}},[e._v(e._s(t.title))])]}),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){return e.deleteTab("all",1)}}},[e._v("关闭全部")])],2)],1):e._e()],1),e._v(" "),n("div",{ref:"ctxMenu"},[e.curMenuShow?n("div",{staticClass:"ctx-menu",style:"margin-top: "+e.ctxMenuXY[1]+"px; margin-left: "+e.ctxMenuXY[0]+"px"},[0!==e.curMenuIndex?n("div",{staticClass:"ctx-menu-item",on:{click:function(t){return e.deleteTab("close",e.curMenuIndex)}}},[e._v("关闭")]):e._e(),e._v(" "),n("div",{staticClass:"ctx-menu-item",on:{click:function(t){return e.deleteTab("other",e.curMenuIndex)}}},[e._v("关闭其他")]),e._v(" "),e.curMenuIndex!==e.curTabList.length-1?n("div",{staticClass:"ctx-menu-item",on:{click:function(t){return e.deleteTab("right",e.curMenuIndex)}}},[e._v("关闭右侧")]):e._e(),e._v(" "),0!==e.curMenuIndex?n("div",{staticClass:"ctx-menu-item",on:{click:function(t){return e.deleteTab("all",e.curMenuIndex)}}},[e._v("关闭全部")]):e._e()]):e._e()]),e._v(" "),n("keep-alive",{attrs:{include:e.cachePage.map(function(e){var t=e.split("/");return t[t.length-1]}).toString()}},[n(e.thisComponent,{tag:"component",attrs:{params:e.curParams,isLong:e.isLong}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var b=n("VU/8")(d,f,!1,function(e){n("vYX1")},null,null);t.default=b.exports},vYX1:function(e,t){},vgQg:function(e,t,n){"use strict";t.a={apiHost:"/cfsc-uaa",isMock:!0,axiosFormDataConfig:{headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:2e4},axiosJsonConfig:{headers:{"Content-Type":"application/json"},timeout:2e4},axiosLoginConfig:{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic YW5kcm9pZDphbmRyb2lk"},timeout:2e4}}}});