{"version":3,"sources":["webpack:///src/components/fireframesComponents/fireframes.vue","webpack:///./src/components/fireframesComponents/fireframes.vue?b04f","webpack:///./src/components/fireframesComponents/fireframes.vue"],"names":["fireframes","data","mounted","window","addEventListener","canvas","width","clientWidth","height","clientHeight","cx","cy","this","initVars","frame","methods","Math","PI","getContext","sparkPics","s","Array","i","sparkPic","Image","src","push","Audio","rasterizePoint","x","y","z","p","d","playerX","playerY","playerZ","atan2","sqrt","sin","yaw","cos","pitch","rx4","ry4","uc","ua","ub","scale","spawnSeed","seed","Object","random","vx","vy","vz","born","frames","seeds","splode","t","parseInt","sparkV","type","pic1","pic2","pic3","m","spark","p1","pi","p2","v","img","radius","alpha","trail","sparks","pow","volume","play","doLogic","seedTimer","seedInterval","length","gravity","seedLife","splice","point","rgb","col","r","g","b","toString","draw","ctx","clearRect","fillStyle","j","size","a","globalAlpha","fillRect","point1","strokeStyle","point2","beginPath","moveTo","lineWidth","lineTo","stroke","drawImage","_frame","apply","arguments","requestAnimationFrame","fireframesComponents_fireframes","render","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","attrs","id","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.a110a54ac5beb82d26ed.js","sourcesContent":["<template>\r\n    <div class=\"fireframesCom\">\r\n        <canvas id=\"canvas\" width=\"1980\" height=\"1743\"></canvas>\r\n    </div>\r\n</template>\r\n<style>\r\n    @import './fireframes.scss';\r\n</style>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n\r\n        }\r\n    },\r\n    mounted(){\r\n         window.addEventListener(\"resize\", () => {\r\n            canvas.width = canvas.clientWidth;\r\n            canvas.height = canvas.clientHeight;\r\n            cx = canvas.width / 2;\r\n            cy = canvas.height / 2;\r\n        });\r\n        this.initVars();\r\n        this.frame();\r\n    },\r\n    methods:{\r\n        initVars() {\r\n\r\n            var pi = Math.PI;\r\n            var ctx = canvas.getContext(\"2d\");\r\n            canvas.width = canvas.clientWidth;\r\n            canvas.height = canvas.clientHeight;\r\n            var cx = canvas.width / 2;\r\n            var cy = canvas.height / 2;\r\n            var playerZ = -25;\r\n            var playerX, playerY,playerVX,playerVY,playerVZ,pitch,yaw,pitchV,yawV,scale,seedTimer,seedInterval,\r\n            gravity,seeds,sparkPics,s,pow1,pow2,pow3,pow4,frames,seedLife;\r\n            playerX = playerY = playerVX = playerVY = playerVZ = pitch = yaw = pitchV = yawV = 0;\r\n            scale = 600;\r\n            seedTimer = 0;\r\n            seedInterval = 5, seedLife = 100;\r\n            gravity = .02;\r\n            seeds = new Array();\r\n            sparkPics = new Array();\r\n            s = \"https://cantelope.org/NYE/\";\r\n            for (var i = 1; i <= 10; ++i) {\r\n                var sparkPic = new Image();\r\n                sparkPic.src = s + \"spark\" + i + \".png\";\r\n                sparkPics.push(sparkPic);\r\n            }\r\n            var sparks = new Array();\r\n            pow1 = new Audio(s + \"pow1.ogg\");\r\n            pow2 = new Audio(s + \"pow2.ogg\");\r\n            pow3 = new Audio(s + \"pow3.ogg\");\r\n            pow4 = new Audio(s + \"pow4.ogg\");\r\n            frames = 0;\r\n        },\r\n         rasterizePoint(x, y, z) {\r\n\r\n            var p, d;\r\n            x -= playerX;\r\n            y -= playerY;\r\n            z -= playerZ;\r\n            p = Math.atan2(x, z);\r\n            d = Math.sqrt(x * x + z * z);\r\n            x = Math.sin(p - yaw) * d;\r\n            z = Math.cos(p - yaw) * d;\r\n            p = Math.atan2(y, z);\r\n            d = Math.sqrt(y * y + z * z);\r\n            y = Math.sin(p - pitch) * d;\r\n            z = Math.cos(p - pitch) * d;\r\n            var rx1 = -1000,\r\n                ry1 = 1,\r\n                rx2 = 1000,\r\n                ry2 = 1,\r\n                rx3 = 0,\r\n                ry3 = 0,\r\n                rx4 = x,\r\n                ry4 = z,\r\n                uc = (ry4 - ry3) * (rx2 - rx1) - (rx4 - rx3) * (ry2 - ry1);\r\n            if (!uc) return {\r\n                x: 0,\r\n                y: 0,\r\n                d: -1\r\n            };\r\n            var ua = ((rx4 - rx3) * (ry1 - ry3) - (ry4 - ry3) * (rx1 - rx3)) / uc;\r\n            var ub = ((rx2 - rx1) * (ry1 - ry3) - (ry2 - ry1) * (rx1 - rx3)) / uc;\r\n            if (!z) z = .000000001;\r\n            if (ua > 0 && ua < 1 && ub > 0 && ub < 1) {\r\n                return {\r\n                    x: cx + (rx1 + ua * (rx2 - rx1)) * scale,\r\n                    y: cy + y / z * scale,\r\n                    d: Math.sqrt(x * x + y * y + z * z)\r\n                };\r\n            } else {\r\n                return {\r\n                    x: cx + (rx1 + ua * (rx2 - rx1)) * scale,\r\n                    y: cy + y / z * scale,\r\n                    d: -1\r\n                };\r\n            }\r\n        },\r\n        spawnSeed() {\r\n\r\n            seed = new Object();\r\n            seed.x = -50 + Math.random() * 100;\r\n            seed.y = 25;\r\n            seed.z = -50 + Math.random() * 100;\r\n            seed.vx = .1 - Math.random() * .2;\r\n            seed.vy = -1.5; //*(1+Math.random()/2);\r\n            seed.vz = .1 - Math.random() * .2;\r\n            seed.born = frames;\r\n            seeds.push(seed);\r\n        },\r\n        splode(x, y, z) {\r\n\r\n            t = 5 + parseInt(Math.random() * 150);\r\n            sparkV = 1 + Math.random() * 2.5;\r\n            type = parseInt(Math.random() * 3);\r\n            switch (type) {\r\n                case 0:\r\n                    pic1 = parseInt(Math.random() * 10);\r\n                    break;\r\n                case 1:\r\n                    pic1 = parseInt(Math.random() * 10);\r\n                    do {\r\n                        pic2 = parseInt(Math.random() * 10);\r\n                    } while (pic2 == pic1);\r\n                    break;\r\n                case 2:\r\n                    pic1 = parseInt(Math.random() * 10);\r\n                    do {\r\n                        pic2 = parseInt(Math.random() * 10);\r\n                    } while (pic2 == pic1);\r\n                    do {\r\n                        pic3 = parseInt(Math.random() * 10);\r\n                    } while (pic3 == pic1 || pic3 == pic2);\r\n                    break;\r\n            }\r\n            for (m = 1; m < t; ++m) {\r\n                spark = new Object();\r\n                spark.x = x;\r\n                spark.y = y;\r\n                spark.z = z;\r\n                p1 = pi * 2 * Math.random();\r\n                p2 = pi * Math.random();\r\n                v = sparkV * (1 + Math.random() / 6)\r\n                spark.vx = Math.sin(p1) * Math.sin(p2) * v;\r\n                spark.vz = Math.cos(p1) * Math.sin(p2) * v;\r\n                spark.vy = Math.cos(p2) * v;\r\n                switch (type) {\r\n                    case 0:\r\n                        spark.img = sparkPics[pic1];\r\n                        break;\r\n                    case 1:\r\n                        spark.img = sparkPics[parseInt(Math.random() * 2) ? pic1 : pic2];\r\n                        break;\r\n                    case 2:\r\n                        switch (parseInt(Math.random() * 3)) {\r\n                            case 0:\r\n                                spark.img = sparkPics[pic1];\r\n                                break;\r\n                            case 1:\r\n                                spark.img = sparkPics[pic2];\r\n                                break;\r\n                            case 2:\r\n                                spark.img = sparkPics[pic3];\r\n                                break;\r\n                        }\r\n                        break;\r\n                }\r\n                spark.radius = 25 + Math.random() * 50;\r\n                spark.alpha = 1;\r\n                spark.trail = new Array();\r\n                sparks.push(spark);\r\n            }\r\n            switch (parseInt(Math.random() * 4)) {\r\n                case 0:\r\n                    pow = new Audio(s + \"pow1.ogg\");\r\n                    break;\r\n                case 1:\r\n                    pow = new Audio(s + \"pow2.ogg\");\r\n                    break;\r\n                case 2:\r\n                    pow = new Audio(s + \"pow3.ogg\");\r\n                    break;\r\n                case 3:\r\n                    pow = new Audio(s + \"pow4.ogg\");\r\n                    break;\r\n            }\r\n            d = Math.sqrt((x - playerX) * (x - playerX) + (y - playerY) * (y - playerY) + (z - playerZ) * (z - playerZ));\r\n            pow.volume = 1.5 / (1 + d / 10);\r\n            pow.play();\r\n        },\r\n        doLogic() {\r\n\r\n            if (seedTimer < frames) {\r\n                seedTimer = frames + seedInterval * Math.random() * 10;\r\n                spawnSeed();\r\n            }\r\n            for (i = 0; i < seeds.length; ++i) {\r\n                seeds[i].vy += gravity;\r\n                seeds[i].x += seeds[i].vx;\r\n                seeds[i].y += seeds[i].vy;\r\n                seeds[i].z += seeds[i].vz;\r\n                if (frames - seeds[i].born > seedLife) {\r\n                    splode(seeds[i].x, seeds[i].y, seeds[i].z);\r\n                    seeds.splice(i, 1);\r\n                }\r\n            }\r\n            for (i = 0; i < sparks.length; ++i) {\r\n                if (sparks[i].alpha > 0 && sparks[i].radius > 5) {\r\n                    sparks[i].alpha -= .01;\r\n                    sparks[i].radius /= 1.02;\r\n                    sparks[i].vy += gravity;\r\n                    point = new Object();\r\n                    point.x = sparks[i].x;\r\n                    point.y = sparks[i].y;\r\n                    point.z = sparks[i].z;\r\n                    if (sparks[i].trail.length) {\r\n                        x = sparks[i].trail[sparks[i].trail.length - 1].x;\r\n                        y = sparks[i].trail[sparks[i].trail.length - 1].y;\r\n                        z = sparks[i].trail[sparks[i].trail.length - 1].z;\r\n                        d = ((point.x - x) * (point.x - x) + (point.y - y) * (point.y - y) + (point.z - z) * (point.z -\r\n                            z));\r\n                        if (d > 9) {\r\n                            sparks[i].trail.push(point);\r\n                        }\r\n                    } else {\r\n                        sparks[i].trail.push(point);\r\n                    }\r\n                    if (sparks[i].trail.length > 5) sparks[i].trail.splice(0, 1);\r\n                    sparks[i].x += sparks[i].vx;\r\n                    sparks[i].y += sparks[i].vy;\r\n                    sparks[i].z += sparks[i].vz;\r\n                    sparks[i].vx /= 1.075;\r\n                    sparks[i].vy /= 1.075;\r\n                    sparks[i].vz /= 1.075;\r\n                } else {\r\n                    sparks.splice(i, 1);\r\n                }\r\n            }\r\n            p = Math.atan2(playerX, playerZ);\r\n            d = Math.sqrt(playerX * playerX + playerZ * playerZ);\r\n            d += Math.sin(frames / 80) / 1.25;\r\n            t = Math.sin(frames / 200) / 40;\r\n            playerX = Math.sin(p + t) * d;\r\n            playerZ = Math.cos(p + t) * d;\r\n            yaw = pi + p + t;\r\n        },\r\n        rgb(col) {\r\n\r\n            var r = parseInt((.5 + Math.sin(col) * .5) * 16);\r\n            var g = parseInt((.5 + Math.cos(col) * .5) * 16);\r\n            var b = parseInt((.5 - Math.sin(col) * .5) * 16);\r\n            return \"#\" + r.toString(16) + g.toString(16) + b.toString(16);\r\n        },\r\n         draw() {\r\n            var ctx = canvas.getContext(\"2d\");\r\n            ctx.clearRect(0, 0, cx * 2, cy * 2);\r\n\r\n            ctx.fillStyle = \"#ff8\";\r\n            for (i = -100; i < 100; i += 3) {\r\n                for (j = -100; j < 100; j += 4) {\r\n                    x = i;\r\n                    z = j;\r\n                    y = 25;\r\n                    point = rasterizePoint(x, y, z);\r\n                    if (point.d != -1) {\r\n                        size = 250 / (1 + point.d);\r\n                        d = Math.sqrt(x * x + z * z);\r\n                        a = 0.75 - Math.pow(d / 100, 6) * 0.75;\r\n                        if (a > 0) {\r\n                            ctx.globalAlpha = a;\r\n                            ctx.fillRect(point.x - size / 2, point.y - size / 2, size, size);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            ctx.globalAlpha = 1;\r\n            for (i = 0; i < seeds.length; ++i) {\r\n                point = rasterizePoint(seeds[i].x, seeds[i].y, seeds[i].z);\r\n                if (point.d != -1) {\r\n                    size = 200 / (1 + point.d);\r\n                    ctx.fillRect(point.x - size / 2, point.y - size / 2, size, size);\r\n                }\r\n            }\r\n            point1 = new Object();\r\n            for (i = 0; i < sparks.length; ++i) {\r\n                point = rasterizePoint(sparks[i].x, sparks[i].y, sparks[i].z);\r\n                if (point.d != -1) {\r\n                    size = sparks[i].radius * 200 / (1 + point.d);\r\n                    if (sparks[i].alpha < 0) sparks[i].alpha = 0;\r\n                    if (sparks[i].trail.length) {\r\n                        point1.x = point.x;\r\n                        point1.y = point.y;\r\n                        switch (sparks[i].img) {\r\n                            case sparkPics[0]:\r\n                                ctx.strokeStyle = \"#f84\";\r\n                                break;\r\n                            case sparkPics[1]:\r\n                                ctx.strokeStyle = \"#84f\";\r\n                                break;\r\n                            case sparkPics[2]:\r\n                                ctx.strokeStyle = \"#8ff\";\r\n                                break;\r\n                            case sparkPics[3]:\r\n                                ctx.strokeStyle = \"#fff\";\r\n                                break;\r\n                            case sparkPics[4]:\r\n                                ctx.strokeStyle = \"#4f8\";\r\n                                break;\r\n                            case sparkPics[5]:\r\n                                ctx.strokeStyle = \"#f44\";\r\n                                break;\r\n                            case sparkPics[6]:\r\n                                ctx.strokeStyle = \"#f84\";\r\n                                break;\r\n                            case sparkPics[7]:\r\n                                ctx.strokeStyle = \"#84f\";\r\n                                break;\r\n                            case sparkPics[8]:\r\n                                ctx.strokeStyle = \"#fff\";\r\n                                break;\r\n                            case sparkPics[9]:\r\n                                ctx.strokeStyle = \"#44f\";\r\n                                break;\r\n                        }\r\n                        for (j = sparks[i].trail.length - 1; j >= 0; --j) {\r\n                            point2 = rasterizePoint(sparks[i].trail[j].x, sparks[i].trail[j].y, sparks[i].trail[j].z);\r\n                            if (point2.d != -1) {\r\n                                ctx.globalAlpha = j / sparks[i].trail.length * sparks[i].alpha / 2;\r\n                                ctx.beginPath();\r\n                                ctx.moveTo(point1.x, point1.y);\r\n                                ctx.lineWidth = 1 + sparks[i].radius * 10 / (sparks[i].trail.length - j) / (1 + point2.d);\r\n                                ctx.lineTo(point2.x, point2.y);\r\n                                ctx.stroke();\r\n                                point1.x = point2.x;\r\n                                point1.y = point2.y;\r\n                            }\r\n                        }\r\n                    }\r\n                    ctx.globalAlpha = sparks[i].alpha;\r\n                    ctx.drawImage(sparks[i].img, point.x - size / 2, point.y - size / 2, size, size);\r\n                }\r\n            }\r\n        },\r\n        frame() {\r\n\r\n            if (frames > 100000) {\r\n                seedTimer = 0;\r\n                frames = 0;\r\n            }\r\n            frames++;\r\n            this.draw();\r\n            this.doLogic();\r\n            this.requestAnimationFrame(frame);\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/fireframesComponents/fireframes.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fireframesCom\"},[_c('canvas',{attrs:{\"id\":\"canvas\",\"width\":\"1980\",\"height\":\"1743\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a1ae4be\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/fireframesComponents/fireframes.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a1ae4be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./fireframes.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/lib/${member}\\\",\\\"kebabCase\\\":true,\\\"style\\\":{\\\"ignore\\\":[\\\"create-api\\\",\\\"better-scroll\\\",\\\"locale\\\"]}}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fireframes.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/lib/${member}\\\",\\\"kebabCase\\\":true,\\\"style\\\":{\\\"ignore\\\":[\\\"create-api\\\",\\\"better-scroll\\\",\\\"locale\\\"]}}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fireframes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a1ae4be\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./fireframes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/fireframesComponents/fireframes.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}